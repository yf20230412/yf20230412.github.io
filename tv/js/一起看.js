function verifyLogin(key) {
    let cnt = 0;
    let cookie = '';
    let content = '';
    let yzm_url = 'https://www.cpldq.com/include/vdimgck.php';
    log(`éªŒè¯ç é“¾æ¥:${yzm_url}`);
    let submit_url = 'https://www.cpldq.com/search.php?scheckAC=check&page=1&searchtype=&order=&tid=&area=&year=&letter=&yuyan=&state=&money=&ver=&jq=';
    log(`postç™»å½•é“¾æ¥:${submit_url}`);
    while (cnt < OCR_RETRY) {
        try {
            let {cookie, html} = reqCookie(yzm_url + '?t=' + new Date().getTime(), {toBase64: true});
            let code = OcrApi.classification(html);
            let code1 = eval(code.slice(0, -1));
            log(`ç¬¬${cnt + 1}æ¬¡éªŒè¯ç è¯†åˆ«ç»“æœ:${code}->${code1}`);
            html = post(submit_url, {
                headers: {Cookie: cookie},
                body: 'validate=' + code1 + '&searchword=' + key,
            });
            if (/ç›¸å…³æœç´¢ç»“æœ/.test(html)) {
                content = html;
                return {cookie, html: content} // éœ€è¦è¿”å›cookie
            } else if (!/ç›¸å…³æœç´¢ç»“æœ/.test(html) && cnt + 1 >= OCR_RETRY) {
                cookie = ''; // éœ€è¦æ¸…ç©ºè¿”å›cookie
            }
        } catch (e) {
            log(`ç¬¬${cnt + 1}æ¬¡éªŒè¯ç æäº¤å¤±è´¥:${e.message}`);
            if (cnt + 1 >= OCR_RETRY) {
                cookie = '';
            }
        }
        cnt += 1
    }
    return {cookie, html: content}
}

globalThis.verifyLogin = verifyLogin;

var rule = {
    title: 'ä¸€èµ·çœ‹[ä¼˜]',
    host: 'http://www.cpldq.com',
    url: '/cptype/fyclass-fypage.html',
    searchUrl: '/search.php?page=fypage&searchword=**&searchtype=',
    searchable: 0,
    quickSearch: 0,
    filterable: 1,
    filter: '',
    filter_url: '',
    headers: {
        'User-Agent': 'MOBILE_UA',
    },
    timeout: 5000,
    //class_parse: '.sb_login_alert_box&&li;a&&Text;a&&href;/(\\d+)\.html',
    class_name:'ç”µè§†å‰§&ç”µå½±&åŠ¨æ¼«&çŸ­å‰§&ç»¼è‰º',
    class_url:'2&1&4&30&3',
    cate_exclude: '',
    play_parse: true,
    lazy: $js.toString(() => {
        input = {parse: 1, url: input, js: ''};
    }),
    double: true,
	filter: {
"1":[{"key":"class","name":"å‰§æƒ…","value":[{"n":"å…¨éƒ¨å‰§æƒ…","v":""},{"n":"ä¹¡æ‘","v":"ä¹¡æ‘"},{"n":"éƒ½å¸‚","v":"éƒ½å¸‚"},{"n":"å°‘å„¿","v":"å°‘å„¿"},{"n":"å¯¹è¯","v":"å¯¹è¯"},{"n":"æç¬‘","v":"æç¬‘"},{"n":"ææ€–","v":"ææ€–"},{"n":"å®«å»·","v":"å®«å»·"},{"n":"å‰§æƒ…","v":"å‰§æƒ…"},{"n":"è¨€æƒ…","v":"è¨€æƒ…"},{"n":"å®¶åº­","v":"å®¶åº­"},{"n":"åŠ±å¿—","v":"åŠ±å¿—"},{"n":"å¶åƒ","v":"å¶åƒ"},{"n":"æ—¶è£…","v":"æ—¶è£…"},{"n":"å¹´ä»£","v":"å¹´ä»£"},{"n":"æ‚¬ç–‘","v":"æ‚¬ç–‘"},{"n":"å¤è£…","v":"å¤è£…"},{"n":"çƒ­è¡€","v":"çƒ­è¡€"},{"n":"åŒäºº","v":"åŒäºº"},{"n":"è€½ç¾","v":"è€½ç¾"}]},{"key":"area","name":"åœ°åŒº","value":[{"n":"å…¨éƒ¨åœ°åŒº","v":""},{"n":"å¤§é™†","v":"å¤§é™†"},{"n":"é¦™æ¸¯","v":"é¦™æ¸¯"},{"n":"å°æ¹¾","v":"å°æ¹¾"},{"n":"æ—¥æœ¬","v":"æ—¥æœ¬"},{"n":"éŸ©å›½","v":"éŸ©å›½"},{"n":"æ¬§ç¾","v":"æ¬§ç¾"},{"n":"æ³°å›½","v":"æ³°å›½"},{"n":"å…¶ä»–","v":"å…¶ä»–"}]},{"key":"year","name":"æ—¶é—´","value":[{"n":"å…¨éƒ¨æ—¶é—´","v":""},{"n":"2024","v":"2024"},{"n":"2023","v":"2023"},{"n":"2022","v":"2022"},{"n":"2021","v":"2021"},{"n":"2020","v":"2020"},{"n":"2019","v":"2019"},{"n":"2018","v":"2018"},{"n":"2017","v":"2017"},{"n":"2016","v":"2016"},{"n":"2015","v":"2015"},{"n":"2014","v":"2014"},{"n":"2013","v":"2013"},{"n":"æ›´æ—©","v":"more"}]},{"key":"by","name":"æ’åº","value":[{"n":"å…¨éƒ¨æ’åº","v":""},{"n":"æ—¶é—´æ’åº","v":"time"},{"n":"äººæ°”æ’åº","v":"hits"},{"n":"è¯„åˆ†æ’åº","v":"score"}]}],
"2":[{"key":"class","name":"å‰§æƒ…","value":[{"n":"å…¨éƒ¨å‰§æƒ…","v":""},{"n":"ä¹¡æ‘","v":"ä¹¡æ‘"},{"n":"éƒ½å¸‚","v":"éƒ½å¸‚"},{"n":"å°‘å„¿","v":"å°‘å„¿"},{"n":"å¯¹è¯","v":"å¯¹è¯"},{"n":"æç¬‘","v":"æç¬‘"},{"n":"ææ€–","v":"ææ€–"},{"n":"å®«å»·","v":"å®«å»·"},{"n":"å‰§æƒ…","v":"å‰§æƒ…"},{"n":"è¨€æƒ…","v":"è¨€æƒ…"},{"n":"å®¶åº­","v":"å®¶åº­"},{"n":"åŠ±å¿—","v":"åŠ±å¿—"},{"n":"å¶åƒ","v":"å¶åƒ"},{"n":"æ—¶è£…","v":"æ—¶è£…"},{"n":"å¹´ä»£","v":"å¹´ä»£"},{"n":"æ‚¬ç–‘","v":"æ‚¬ç–‘"},{"n":"å¤è£…","v":"å¤è£…"},{"n":"çƒ­è¡€","v":"çƒ­è¡€"},{"n":"åŒäºº","v":"åŒäºº"},{"n":"è€½ç¾","v":"è€½ç¾"}]},{"key":"area","name":"åœ°åŒº","value":[{"n":"å…¨éƒ¨åœ°åŒº","v":""},{"n":"å¤§é™†","v":"å¤§é™†"},{"n":"é¦™æ¸¯","v":"é¦™æ¸¯"},{"n":"å°æ¹¾","v":"å°æ¹¾"},{"n":"æ—¥æœ¬","v":"æ—¥æœ¬"},{"n":"éŸ©å›½","v":"éŸ©å›½"},{"n":"æ¬§ç¾","v":"æ¬§ç¾"},{"n":"æ³°å›½","v":"æ³°å›½"},{"n":"å…¶ä»–","v":"å…¶ä»–"}]},{"key":"year","name":"æ—¶é—´","value":[{"n":"å…¨éƒ¨æ—¶é—´","v":""},{"n":"2024","v":"2024"},{"n":"2023","v":"2023"},{"n":"2022","v":"2022"},{"n":"2021","v":"2021"},{"n":"2020","v":"2020"},{"n":"2019","v":"2019"},{"n":"2018","v":"2018"},{"n":"2017","v":"2017"},{"n":"2016","v":"2016"},{"n":"2015","v":"2015"},{"n":"2014","v":"2014"},{"n":"2013","v":"2013"},{"n":"æ›´æ—©","v":"more"}]},{"key":"by","name":"æ’åº","value":[{"n":"å…¨éƒ¨æ’åº","v":""},{"n":"æ—¶é—´æ’åº","v":"time"},{"n":"äººæ°”æ’åº","v":"hits"},{"n":"è¯„åˆ†æ’åº","v":"score"}]}],
"3":[{"key":"class","name":"å‰§æƒ…","value":[{"n":"å…¨éƒ¨å‰§æƒ…","v":""},{"n":"ä¹¡æ‘","v":"ä¹¡æ‘"},{"n":"éƒ½å¸‚","v":"éƒ½å¸‚"},{"n":"å°‘å„¿","v":"å°‘å„¿"},{"n":"å¯¹è¯","v":"å¯¹è¯"},{"n":"æç¬‘","v":"æç¬‘"},{"n":"ææ€–","v":"ææ€–"},{"n":"å®«å»·","v":"å®«å»·"},{"n":"å‰§æƒ…","v":"å‰§æƒ…"},{"n":"è¨€æƒ…","v":"è¨€æƒ…"},{"n":"å®¶åº­","v":"å®¶åº­"},{"n":"åŠ±å¿—","v":"åŠ±å¿—"},{"n":"å¶åƒ","v":"å¶åƒ"},{"n":"æ—¶è£…","v":"æ—¶è£…"},{"n":"å¹´ä»£","v":"å¹´ä»£"},{"n":"æ‚¬ç–‘","v":"æ‚¬ç–‘"},{"n":"å¤è£…","v":"å¤è£…"},{"n":"çƒ­è¡€","v":"çƒ­è¡€"},{"n":"åŒäºº","v":"åŒäºº"},{"n":"è€½ç¾","v":"è€½ç¾"}]},{"key":"area","name":"åœ°åŒº","value":[{"n":"å…¨éƒ¨åœ°åŒº","v":""},{"n":"å¤§é™†","v":"å¤§é™†"},{"n":"é¦™æ¸¯","v":"é¦™æ¸¯"},{"n":"å°æ¹¾","v":"å°æ¹¾"},{"n":"æ—¥æœ¬","v":"æ—¥æœ¬"},{"n":"éŸ©å›½","v":"éŸ©å›½"},{"n":"æ¬§ç¾","v":"æ¬§ç¾"},{"n":"æ³°å›½","v":"æ³°å›½"},{"n":"å…¶ä»–","v":"å…¶ä»–"}]},{"key":"year","name":"æ—¶é—´","value":[{"n":"å…¨éƒ¨æ—¶é—´","v":""},{"n":"2024","v":"2024"},{"n":"2023","v":"2023"},{"n":"2022","v":"2022"},{"n":"2021","v":"2021"},{"n":"2020","v":"2020"},{"n":"2019","v":"2019"},{"n":"2018","v":"2018"},{"n":"2017","v":"2017"},{"n":"2016","v":"2016"},{"n":"2015","v":"2015"},{"n":"2014","v":"2014"},{"n":"2013","v":"2013"},{"n":"æ›´æ—©","v":"more"}]},{"key":"by","name":"æ’åº","value":[{"n":"å…¨éƒ¨æ’åº","v":""},{"n":"æ—¶é—´æ’åº","v":"time"},{"n":"äººæ°”æ’åº","v":"hits"},{"n":"è¯„åˆ†æ’åº","v":"score"}]}],
"4":[{"key":"class","name":"å‰§æƒ…","value":[{"n":"å…¨éƒ¨å‰§æƒ…","v":""},{"n":"ä¹¡æ‘","v":"ä¹¡æ‘"},{"n":"éƒ½å¸‚","v":"éƒ½å¸‚"},{"n":"å°‘å„¿","v":"å°‘å„¿"},{"n":"å¯¹è¯","v":"å¯¹è¯"},{"n":"æç¬‘","v":"æç¬‘"},{"n":"ææ€–","v":"ææ€–"},{"n":"å®«å»·","v":"å®«å»·"},{"n":"å‰§æƒ…","v":"å‰§æƒ…"},{"n":"è¨€æƒ…","v":"è¨€æƒ…"},{"n":"å®¶åº­","v":"å®¶åº­"},{"n":"åŠ±å¿—","v":"åŠ±å¿—"},{"n":"å¶åƒ","v":"å¶åƒ"},{"n":"æ—¶è£…","v":"æ—¶è£…"},{"n":"å¹´ä»£","v":"å¹´ä»£"},{"n":"æ‚¬ç–‘","v":"æ‚¬ç–‘"},{"n":"å¤è£…","v":"å¤è£…"},{"n":"çƒ­è¡€","v":"çƒ­è¡€"},{"n":"åŒäºº","v":"åŒäºº"},{"n":"è€½ç¾","v":"è€½ç¾"}]},{"key":"area","name":"åœ°åŒº","value":[{"n":"å…¨éƒ¨åœ°åŒº","v":""},{"n":"å¤§é™†","v":"å¤§é™†"},{"n":"é¦™æ¸¯","v":"é¦™æ¸¯"},{"n":"å°æ¹¾","v":"å°æ¹¾"},{"n":"æ—¥æœ¬","v":"æ—¥æœ¬"},{"n":"éŸ©å›½","v":"éŸ©å›½"},{"n":"æ¬§ç¾","v":"æ¬§ç¾"},{"n":"æ³°å›½","v":"æ³°å›½"},{"n":"å…¶ä»–","v":"å…¶ä»–"}]},{"key":"year","name":"æ—¶é—´","value":[{"n":"å…¨éƒ¨æ—¶é—´","v":""},{"n":"2024","v":"2024"},{"n":"2023","v":"2023"},{"n":"2022","v":"2022"},{"n":"2021","v":"2021"},{"n":"2020","v":"2020"},{"n":"2019","v":"2019"},{"n":"2018","v":"2018"},{"n":"2017","v":"2017"},{"n":"2016","v":"2016"},{"n":"2015","v":"2015"},{"n":"2014","v":"2014"},{"n":"2013","v":"2013"},{"n":"æ›´æ—©","v":"more"}]},{"key":"by","name":"æ’åº","value":[{"n":"å…¨éƒ¨æ’åº","v":""},{"n":"æ—¶é—´æ’åº","v":"time"},{"n":"äººæ°”æ’åº","v":"hits"},{"n":"è¯„åˆ†æ’åº","v":"score"}]}],
"30":[{"key":"class","name":"å‰§æƒ…","value":[{"n":"å…¨éƒ¨å‰§æƒ…","v":""},{"n":"ä¹¡æ‘","v":"ä¹¡æ‘"},{"n":"éƒ½å¸‚","v":"éƒ½å¸‚"},{"n":"å°‘å„¿","v":"å°‘å„¿"},{"n":"å¯¹è¯","v":"å¯¹è¯"},{"n":"æç¬‘","v":"æç¬‘"},{"n":"ææ€–","v":"ææ€–"},{"n":"å®«å»·","v":"å®«å»·"},{"n":"å‰§æƒ…","v":"å‰§æƒ…"},{"n":"è¨€æƒ…","v":"è¨€æƒ…"},{"n":"å®¶åº­","v":"å®¶åº­"},{"n":"åŠ±å¿—","v":"åŠ±å¿—"},{"n":"å¶åƒ","v":"å¶åƒ"},{"n":"æ—¶è£…","v":"æ—¶è£…"},{"n":"å¹´ä»£","v":"å¹´ä»£"},{"n":"æ‚¬ç–‘","v":"æ‚¬ç–‘"},{"n":"å¤è£…","v":"å¤è£…"},{"n":"çƒ­è¡€","v":"çƒ­è¡€"},{"n":"åŒäºº","v":"åŒäºº"},{"n":"è€½ç¾","v":"è€½ç¾"}]},{"key":"area","name":"åœ°åŒº","value":[{"n":"å…¨éƒ¨åœ°åŒº","v":""},{"n":"å¤§é™†","v":"å¤§é™†"},{"n":"é¦™æ¸¯","v":"é¦™æ¸¯"},{"n":"å°æ¹¾","v":"å°æ¹¾"},{"n":"æ—¥æœ¬","v":"æ—¥æœ¬"},{"n":"éŸ©å›½","v":"éŸ©å›½"},{"n":"æ¬§ç¾","v":"æ¬§ç¾"},{"n":"æ³°å›½","v":"æ³°å›½"},{"n":"å…¶ä»–","v":"å…¶ä»–"}]},{"key":"year","name":"æ—¶é—´","value":[{"n":"å…¨éƒ¨æ—¶é—´","v":""},{"n":"2024","v":"2024"},{"n":"2023","v":"2023"},{"n":"2022","v":"2022"},{"n":"2021","v":"2021"},{"n":"2020","v":"2020"},{"n":"2019","v":"2019"},{"n":"2018","v":"2018"},{"n":"2017","v":"2017"},{"n":"2016","v":"2016"},{"n":"2015","v":"2015"},{"n":"2014","v":"2014"},{"n":"2013","v":"2013"},{"n":"æ›´æ—©","v":"more"}]},{"key":"by","name":"æ’åº","value":[{"n":"å…¨éƒ¨æ’åº","v":""},{"n":"æ—¶é—´æ’åº","v":"time"},{"n":"äººæ°”æ’åº","v":"hits"},{"n":"è¯„åˆ†æ’åº","v":"score"}]}]},
    æ¨è: '.main&&.bgte1130;ul&&.sb-film-one;*;*;*;*',
    ä¸€çº§: '.sb-area-index&&ul&&.qcontainer;i&&Text;.lazy&&data-original;.other&&Text;a&&href',
    äºŒçº§: {
        title: '.name&&Text;.ct&&dd&&Text',
        img: '.lazy&&data-original',
        desc: '.ct&&dd:eq(1)&&Text;.ct&&dd:eq(2)&&Text;.ct&&dt:eq(2)&&Text;.ct&&dt&&Text;',
        content: 'div.ee&&Text',
        tabs: '.playfrom&&li',
        lists: '.playlist:eq(#id)&&ul&&li:not(:contains(æ»ˆå‡Š))',
        tab_text: 'body--sup&&Text',
        list_text: 'body&&Text',
        list_url: 'a&&href'
    },
    tab_rename:{'ç§’æ’­èµ„æº':'ğŸŒºé£è¨€é”‹è¯­88ğŸŒº+ç§’æ’­','å…‰é€Ÿèµ„æº':'ğŸŒºé£è¨€é”‹è¯­88ğŸŒº+å…‰é€Ÿ'},
    //æœç´¢: '*',
    æœç´¢: $js.toString(() => {
        let cookie = getItem(RULE_CK, '') + ';ssea2_search=ok';
        log('å‚¨å­˜çš„cookie:' + cookie);
        let ret = request(MY_URL, {
            headers: {
                Cookie: cookie,
            }
        });
        if (/ç³»ç»Ÿå®‰å…¨éªŒè¯/.test(ret)) {
            let login = verifyLogin(KEY);
            cookie = login.cookie;
            if (cookie) {
                log(`æœ¬æ¬¡æˆåŠŸè¿‡éªŒè¯,cookie:${cookie}`);
                setItem(RULE_CK, cookie);
            } else {
                log(`æœ¬æ¬¡è‡ªåŠ¨è¿‡æœç´¢éªŒè¯å¤±è´¥,cookie:${cookie}`);
            }
            ret = login.html;
            // ret = request(MY_URL, {
            //     headers: {
            //         Cookie: cookie,
            //     }
            // });
        }
        let d = [];
        let p = rule.ä¸€çº§.split(';');
        let arr = pdfa(ret, p[0]);
        arr.forEach(it => {
            d.push({
                title: pdfh(it, p[1]),
                pic_url: pdfh(it, p[2]),
                desc: pdfh(it, p[3]),

                url: pdfh(it, p[4]),
                content: '',
            });

        });
        setResult(d);
    }),
}